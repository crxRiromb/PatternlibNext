@use 'sass:map';

@mixin generate-component-variant-theme($component-name, $variant-name, $variant-config, $theme-palette) {
  // Gehe durch jede Rolle (background, border, text)
  @each $role, $states in $variant-config {
    // Gehe durch jeden Zustand (default, hover, active)
    @each $state, $color-role in $states {
      @if map.has-key($theme-palette, $color-role) {
        $color-value: map.get($theme-palette, $color-role);

        // Baue den Variablennamen zusammen. Wenn der Zustand 'default' ist, wird er weggelassen.
        $variable-name: if(
          $state == 'default',
          '--color-#{$variant-name}-#{$role}',
          '--color-#{$variant-name}-#{$role}-#{$state}'
        );

        #{$variable-name}: #{$color-value};
      } @else {
        @warn "Color role '#{$color-role}' for component '#{$component-name}' not found.";
      }
    }
  }
}
